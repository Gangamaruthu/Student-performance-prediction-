# -*- coding: utf-8 -*-
"""student_performance.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1PtlFupwqjAF65CI4aX7dFlO1ZmQbsvnq
"""

import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.neighbors import KNeighborsClassifier
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import accuracy_score

data = pd.read_csv("Students.csv")

data = data.drop('Student_ID', axis=1)

data.head()

data.tail()



data.info()

data['Sex'].replace(['Female', 'Male'],[0,1], inplace=True)
data['Additional_Work'].replace(['Yes', 'No'],[1,0],inplace=True)
data['Sports_activity'].replace(['Yes', 'No'], [1,0], inplace = True)
data['Transportation'].replace(['Public', 'Private', 'Bus'],[0,1,2], inplace = True)
data['Reading'].replace(['Yes', 'No'], [1,0], inplace=True)
data['Attendance'].replace(
    ['Never','Sometimes','Always'],
    [0,1,2],
    inplace=True
)
data['Notes'].replace(['Yes','No'],[1,0],inplace=True)
data['Listening_in_Class'].replace(['Yes','No'],[1,0],inplace=True)
data['Attendance'] = pd.to_numeric(data['Attendance'], errors='coerce')
data['Notes'] = pd.to_numeric(data['Notes'], errors='coerce')
data['Listening_in_Class'] = pd.to_numeric(data['Listening_in_Class'], errors='coerce')

# Missing values fill
data['Attendance'].fillna(1, inplace=True)
data['Notes'].fillna(0, inplace=True)
data['Listening_in_Class'].fillna(0, inplace=True)

data['Project_work'].replace(['Yes', 'No'],[1,0], inplace=True)
data['High_School_Type'].replace(['State', 'Private','Other'], [1,0,2], inplace = True)
data['Student_Age'].replace({
    '18':18,
    '19-22':20,
    '23-27':25
}, inplace=True)

#data['Scholarship'] = data['Scholarship'].replace('None','0%')
#data['Scholarship'] = data['Scholarship'].str.replace('%','').astype(int)
data['Grade'] = data['Grade'].astype('category').cat.codes
data['Scholarship'] = data['Scholarship'].fillna('0%')
data['Scholarship'] = data['Scholarship'].astype(str)
data['Scholarship'] = data['Scholarship'].str.replace('%','')
data['Scholarship'] = data['Scholarship'].astype(int)

x = data.drop(["Grade"], axis =1)
y = data["Grade"]

data.head(100)

x.shape

y.shape

x_test, x_train , y_test , y_train =train_test_split(x ,y , test_size=0.2)

x_train.shape

x_test.shape

X = pd.get_dummies(x)

#model = KNeighborsClassifier(n_neighbors=5)
model = LogisticRegression(max_iter=1000)
#model =tree.DecisionTreeClassifier()

x_test.shape

print(data.dtypes)

model.fit(x_train, y_train)

predict_output = model.predict(x_test)
print(predict_output)
print(y_test)

accuracy = accuracy_score(y_test, predict_output)
accuracy

#predictions= model.predict([test_data])
#print(predictions)

#if(predictions[0]==0):
  #print("Good performance")
#else:
  #print("Poor Performance")